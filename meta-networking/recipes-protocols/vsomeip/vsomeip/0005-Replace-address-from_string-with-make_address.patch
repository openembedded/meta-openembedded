From 47b976736e4f57447339081ab5a40435b3b2d5a8 Mon Sep 17 00:00:00 2001
From: Yi Zhao <yi.zhao@windriver.com>
Date: Tue, 4 Nov 2025 22:10:33 +0800
Subject: [PATCH] Replace address::from_string with make_address

boost::asio::ip::address::from_string is deprecated since boost 1.87[1].
Replace it with make_address.

Fix:
implementation/routing/src/routing_manager_impl.cpp:1406:98: error: 'from_string' is not a member of 'boost::asio::ip::address_v4'
 1406 |  _remote_address.is_v4() ?  _remote_address.to_v4() : boost::asio::ip::address_v4::from_string("6.6.6.6");
      |                                                                                    ^~~~~~~~~~~

[1] https://github.com/boostorg/asio/commit/c0d1cfce7767599c4cf00df36f8017a1073339ae

Upstream-Status: Submitted [https://github.com/COVESA/vsomeip/pull/973]

Signed-off-by: Yi Zhao <yi.zhao@windriver.com>
---
 implementation/routing/src/routing_manager_impl.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/implementation/routing/src/routing_manager_impl.cpp b/implementation/routing/src/routing_manager_impl.cpp
index 3723fe5b..8a252c0b 100644
--- a/implementation/routing/src/routing_manager_impl.cpp
+++ b/implementation/routing/src/routing_manager_impl.cpp
@@ -1404,7 +1404,7 @@ void routing_manager_impl::on_message(const byte_t* _data, length_t _size, endpo
     if (is_forwarded) {
         trace::header its_header;
         const boost::asio::ip::address_v4 its_remote_address =
-                _remote_address.is_v4() ? _remote_address.to_v4() : boost::asio::ip::address_v4::from_string("6.6.6.6");
+                _remote_address.is_v4() ? _remote_address.to_v4() : boost::asio::ip::make_address_v4("6.6.6.6");
         trace::protocol_e its_protocol = _receiver->is_local() ? trace::protocol_e::local
                 : _receiver->is_reliable()                     ? trace::protocol_e::tcp
                                                                : trace::protocol_e::udp;
@@ -1442,7 +1442,7 @@ bool routing_manager_impl::on_message(service_t _service, instance_t _instance,
         std::shared_ptr<endpoint> _receiver = its_info->get_endpoint(_reliable);
         if (_receiver && _receiver.get()) {
             if(!is_acl_message_allowed(_receiver.get(), _service, _instance,
-                    boost::asio::ip::address_v4::from_string("127.0.0.1"))) {
+                    boost::asio::ip::make_address_v4("127.0.0.1"))) {
                 return false;
             }
         }
-- 
2.34.1


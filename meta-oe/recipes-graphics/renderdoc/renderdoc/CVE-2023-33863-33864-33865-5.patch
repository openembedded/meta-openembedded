From 3be494014166fbccd1b951aeeb26534d44ceab37 Mon Sep 17 00:00:00 2001
From: baldurk <baldurk@baldurk.org>
Date: Fri, 19 May 2023 10:58:29 +0100
Subject: [PATCH] Fix incorrect return type

CVE: CVE-2023-33836 CVE-2023-33864 CVE-2023-33865
Upstream-Status: Backport [https://github.com/baldurk/renderdoc/commit/771aa8e769b72e6a36b31d6e2116db9952dcbe9b]

Signed-off-by: Gyorgy Sarvari <skandigraun@gmail.com>
---
 renderdoc/strings/string_utils.cpp | 2 +-
 renderdoc/strings/string_utils.h   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/renderdoc/strings/string_utils.cpp b/renderdoc/strings/string_utils.cpp
index 019a83c3a..7c42ede4e 100644
--- a/renderdoc/strings/string_utils.cpp
+++ b/renderdoc/strings/string_utils.cpp
@@ -141,7 +141,7 @@ rdcstr strip_extension(const rdcstr &path)
   return path.substr(0, offs);
 }
 
-rdcstr strip_nonbasic(rdcstr &str)
+void strip_nonbasic(rdcstr &str)
 {
   for(char &c : str)
   {
diff --git a/renderdoc/strings/string_utils.h b/renderdoc/strings/string_utils.h
index 7c05a30f8..58c6b4f9c 100644
--- a/renderdoc/strings/string_utils.h
+++ b/renderdoc/strings/string_utils.h
@@ -40,7 +40,7 @@ rdcstr strip_extension(const rdcstr &path);
 // remove everything but alphanumeric ' ' and '.'
 // It replaces everything else with _
 // for logging strings where they might contain garbage characters
-rdcstr strip_nonbasic(rdcstr &str);
+void strip_nonbasic(rdcstr &str);
 
 void split(const rdcstr &in, rdcarray<rdcstr> &out, const char sep);
 void merge(const rdcarray<rdcstr> &in, rdcstr &out, const char sep);

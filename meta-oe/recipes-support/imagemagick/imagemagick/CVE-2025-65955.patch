From c798be8690cd314c115c568ee90136e65c53b90b Mon Sep 17 00:00:00 2001
From: Dirk Lemstra <dirk@lemstra.org>
Date: Sun, 23 Nov 2025 09:17:29 +0100
Subject: [PATCH] Correct incorrect free (GHSA-q3hc-j9x5-mp9m)

CVE: CVE-2025-65955
Upstream-Status: Backport [https://github.com/ImageMagick/ImageMagick/commit/6f81eb15f822ad86e8255be75efad6f9762c32f8]
Signed-off-by: Gyorgy Sarvari <skandigraun@gmail.com>
---
 Magick++/lib/Options.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Magick++/lib/Options.cpp b/Magick++/lib/Options.cpp
index 5d5724c96..eba417cca 100644
--- a/Magick++/lib/Options.cpp
+++ b/Magick++/lib/Options.cpp
@@ -310,7 +310,7 @@ void Magick::Options::fontFamily(const std::string &family_)
 {
   if (family_.length() == 0)
     {
-      _drawInfo->family=(char *) RelinquishMagickMemory(_drawInfo->font);
+      _drawInfo->family=(char *) RelinquishMagickMemory(_drawInfo->family);
       DestroyString(RemoveImageOption(imageInfo(),"family"));
     }
   else
